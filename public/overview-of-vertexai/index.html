<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 5.12.4"/><meta name="description" content="The personal website of Faouzi Braza." data-gatsby-head="true"/><meta name="creator" content="Faouzi Braza" data-gatsby-head="true"/><style data-href="/fbraza-github-pages/styles.8dee14c7300d2130888d.css" data-identity="gatsby-global-css">/*
! tailwindcss v3.3.3 | MIT License | https://tailwindcss.com
*/*,:after,:before{border:0 solid #e5e7eb;box-sizing:border-box}:after,:before{--tw-content:""}html{-webkit-text-size-adjust:100%;font-feature-settings:normal;font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-variation-settings:normal;line-height:1.5;tab-size:4}body{line-height:inherit;margin:0}hr{border-top-width:1px;color:inherit;height:0}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{border-collapse:collapse;border-color:inherit;text-indent:0}button,input,optgroup,select,textarea{font-feature-settings:inherit;color:inherit;font-family:inherit;font-size:100%;font-variation-settings:inherit;font-weight:inherit;line-height:inherit;margin:0;padding:0}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}fieldset{margin:0}fieldset,legend{padding:0}menu,ol,ul{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::placeholder,textarea::placeholder{color:#9ca3af;opacity:1}[role=button],button{cursor:pointer}:disabled{cursor:default}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{height:auto;max-width:100%}[hidden]{display:none}*,:after,:before{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.container{width:100%}@media (min-width:800px){.container{max-width:800px}}.prose{color:var(--tw-prose-body);max-width:65ch}.prose :where(p):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:1.25em;margin-top:1.25em}.prose :where([class~=lead]):not(:where([class~=not-prose],[class~=not-prose] *)){color:var(--tw-prose-lead);font-size:1.25em;line-height:1.6;margin-bottom:1.2em;margin-top:1.2em}.prose :where(a):not(:where([class~=not-prose],[class~=not-prose] *)){color:var(--tw-prose-links);font-weight:500;text-decoration:underline}.prose :where(strong):not(:where([class~=not-prose],[class~=not-prose] *)){color:var(--tw-prose-bold);font-weight:600}.prose :where(a strong):not(:where([class~=not-prose],[class~=not-prose] *)){color:inherit}.prose :where(blockquote strong):not(:where([class~=not-prose],[class~=not-prose] *)){color:inherit}.prose :where(thead th strong):not(:where([class~=not-prose],[class~=not-prose] *)){color:inherit}.prose :where(ol):not(:where([class~=not-prose],[class~=not-prose] *)){list-style-type:decimal;margin-bottom:1.25em;margin-top:1.25em;padding-left:1.625em}.prose :where(ol[type=A]):not(:where([class~=not-prose],[class~=not-prose] *)){list-style-type:upper-alpha}.prose :where(ol[type=a]):not(:where([class~=not-prose],[class~=not-prose] *)){list-style-type:lower-alpha}.prose :where(ol[type=A s]):not(:where([class~=not-prose],[class~=not-prose] *)){list-style-type:upper-alpha}.prose :where(ol[type=a s]):not(:where([class~=not-prose],[class~=not-prose] *)){list-style-type:lower-alpha}.prose :where(ol[type=I]):not(:where([class~=not-prose],[class~=not-prose] *)){list-style-type:upper-roman}.prose :where(ol[type=i]):not(:where([class~=not-prose],[class~=not-prose] *)){list-style-type:lower-roman}.prose :where(ol[type=I s]):not(:where([class~=not-prose],[class~=not-prose] *)){list-style-type:upper-roman}.prose :where(ol[type=i s]):not(:where([class~=not-prose],[class~=not-prose] *)){list-style-type:lower-roman}.prose :where(ol[type="1"]):not(:where([class~=not-prose],[class~=not-prose] *)){list-style-type:decimal}.prose :where(ul):not(:where([class~=not-prose],[class~=not-prose] *)){list-style-type:disc;margin-bottom:1.25em;margin-top:1.25em;padding-left:1.625em}.prose :where(ol>li):not(:where([class~=not-prose],[class~=not-prose] *))::marker{color:var(--tw-prose-counters);font-weight:400}.prose :where(ul>li):not(:where([class~=not-prose],[class~=not-prose] *))::marker{color:var(--tw-prose-bullets)}.prose :where(dt):not(:where([class~=not-prose],[class~=not-prose] *)){color:var(--tw-prose-headings);font-weight:600;margin-top:1.25em}.prose :where(hr):not(:where([class~=not-prose],[class~=not-prose] *)){border-color:var(--tw-prose-hr);border-top-width:1px;margin-bottom:3em;margin-top:3em}.prose :where(blockquote):not(:where([class~=not-prose],[class~=not-prose] *)){border-left-color:var(--tw-prose-quote-borders);border-left-width:.25rem;color:var(--tw-prose-quotes);font-style:italic;font-weight:500;margin-bottom:1.6em;margin-top:1.6em;padding-left:1em;quotes:"\201C""\201D""\2018""\2019"}.prose :where(blockquote p:first-of-type):not(:where([class~=not-prose],[class~=not-prose] *)):before{content:open-quote}.prose :where(blockquote p:last-of-type):not(:where([class~=not-prose],[class~=not-prose] *)):after{content:close-quote}.prose :where(h1):not(:where([class~=not-prose],[class~=not-prose] *)){color:var(--tw-prose-headings);font-size:2.25em;font-weight:800;line-height:1.1111111;margin-bottom:.8888889em;margin-top:0}.prose :where(h1 strong):not(:where([class~=not-prose],[class~=not-prose] *)){color:inherit;font-weight:900}.prose :where(h2):not(:where([class~=not-prose],[class~=not-prose] *)){color:var(--tw-prose-headings);font-size:1.5em;font-weight:700;line-height:1.3333333;margin-bottom:1em;margin-top:2em}.prose :where(h2 strong):not(:where([class~=not-prose],[class~=not-prose] *)){color:inherit;font-weight:800}.prose :where(h3):not(:where([class~=not-prose],[class~=not-prose] *)){color:var(--tw-prose-headings);font-size:1.25em;font-weight:600;line-height:1.6;margin-bottom:.6em;margin-top:1.6em}.prose :where(h3 strong):not(:where([class~=not-prose],[class~=not-prose] *)){color:inherit;font-weight:700}.prose :where(h4):not(:where([class~=not-prose],[class~=not-prose] *)){color:var(--tw-prose-headings);font-weight:600;line-height:1.5;margin-bottom:.5em;margin-top:1.5em}.prose :where(h4 strong):not(:where([class~=not-prose],[class~=not-prose] *)){color:inherit;font-weight:700}.prose :where(img):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:2em;margin-top:2em}.prose :where(picture):not(:where([class~=not-prose],[class~=not-prose] *)){display:block;margin-bottom:2em;margin-top:2em}.prose :where(kbd):not(:where([class~=not-prose],[class~=not-prose] *)){border-radius:.3125rem;box-shadow:0 0 0 1px rgb(var(--tw-prose-kbd-shadows)/10%),0 3px 0 rgb(var(--tw-prose-kbd-shadows)/10%);color:var(--tw-prose-kbd);font-family:inherit;font-size:.875em;font-weight:500;padding:.1875em .375em}.prose :where(code):not(:where([class~=not-prose],[class~=not-prose] *)){color:var(--tw-prose-code);font-size:.875em;font-weight:600}.prose :where(code):not(:where([class~=not-prose],[class~=not-prose] *)):before{content:"`"}.prose :where(code):not(:where([class~=not-prose],[class~=not-prose] *)):after{content:"`"}.prose :where(a code):not(:where([class~=not-prose],[class~=not-prose] *)){color:inherit}.prose :where(h1 code):not(:where([class~=not-prose],[class~=not-prose] *)){color:inherit}.prose :where(h2 code):not(:where([class~=not-prose],[class~=not-prose] *)){color:inherit;font-size:.875em}.prose :where(h3 code):not(:where([class~=not-prose],[class~=not-prose] *)){color:inherit;font-size:.9em}.prose :where(h4 code):not(:where([class~=not-prose],[class~=not-prose] *)){color:inherit}.prose :where(blockquote code):not(:where([class~=not-prose],[class~=not-prose] *)){color:inherit}.prose :where(thead th code):not(:where([class~=not-prose],[class~=not-prose] *)){color:inherit}.prose :where(pre):not(:where([class~=not-prose],[class~=not-prose] *)){background-color:var(--tw-prose-pre-bg);border-radius:.375rem;color:var(--tw-prose-pre-code);font-size:.875em;font-weight:400;line-height:1.7142857;margin-bottom:1.7142857em;margin-top:1.7142857em;overflow-x:auto;padding:.8571429em 1.1428571em}.prose :where(pre code):not(:where([class~=not-prose],[class~=not-prose] *)){background-color:transparent;border-radius:0;border-width:0;color:inherit;font-family:inherit;font-size:inherit;font-weight:inherit;line-height:inherit;padding:0}.prose :where(pre code):not(:where([class~=not-prose],[class~=not-prose] *)):before{content:none}.prose :where(pre code):not(:where([class~=not-prose],[class~=not-prose] *)):after{content:none}.prose :where(table):not(:where([class~=not-prose],[class~=not-prose] *)){font-size:.875em;line-height:1.7142857;margin-bottom:2em;margin-top:2em;table-layout:auto;text-align:left;width:100%}.prose :where(thead):not(:where([class~=not-prose],[class~=not-prose] *)){border-bottom-color:var(--tw-prose-th-borders);border-bottom-width:1px}.prose :where(thead th):not(:where([class~=not-prose],[class~=not-prose] *)){color:var(--tw-prose-headings);font-weight:600;padding-bottom:.5714286em;padding-left:.5714286em;padding-right:.5714286em;vertical-align:bottom}.prose :where(tbody tr):not(:where([class~=not-prose],[class~=not-prose] *)){border-bottom-color:var(--tw-prose-td-borders);border-bottom-width:1px}.prose :where(tbody tr:last-child):not(:where([class~=not-prose],[class~=not-prose] *)){border-bottom-width:0}.prose :where(tbody td):not(:where([class~=not-prose],[class~=not-prose] *)){vertical-align:baseline}.prose :where(tfoot):not(:where([class~=not-prose],[class~=not-prose] *)){border-top-color:var(--tw-prose-th-borders);border-top-width:1px}.prose :where(tfoot td):not(:where([class~=not-prose],[class~=not-prose] *)){vertical-align:top}.prose :where(figure>*):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:0;margin-top:0}.prose :where(figcaption):not(:where([class~=not-prose],[class~=not-prose] *)){color:var(--tw-prose-captions);font-size:.875em;line-height:1.4285714;margin-top:.8571429em}.prose{--tw-prose-body:#374151;--tw-prose-headings:#111827;--tw-prose-lead:#4b5563;--tw-prose-links:#111827;--tw-prose-bold:#111827;--tw-prose-counters:#6b7280;--tw-prose-bullets:#d1d5db;--tw-prose-hr:#e5e7eb;--tw-prose-quotes:#111827;--tw-prose-quote-borders:#e5e7eb;--tw-prose-captions:#6b7280;--tw-prose-kbd:#111827;--tw-prose-kbd-shadows:17 24 39;--tw-prose-code:#111827;--tw-prose-pre-code:#e5e7eb;--tw-prose-pre-bg:#1f2937;--tw-prose-th-borders:#d1d5db;--tw-prose-td-borders:#e5e7eb;--tw-prose-invert-body:#d1d5db;--tw-prose-invert-headings:#fff;--tw-prose-invert-lead:#9ca3af;--tw-prose-invert-links:#fff;--tw-prose-invert-bold:#fff;--tw-prose-invert-counters:#9ca3af;--tw-prose-invert-bullets:#4b5563;--tw-prose-invert-hr:#374151;--tw-prose-invert-quotes:#f3f4f6;--tw-prose-invert-quote-borders:#374151;--tw-prose-invert-captions:#9ca3af;--tw-prose-invert-kbd:#fff;--tw-prose-invert-kbd-shadows:255 255 255;--tw-prose-invert-code:#fff;--tw-prose-invert-pre-code:#d1d5db;--tw-prose-invert-pre-bg:rgba(0,0,0,.5);--tw-prose-invert-th-borders:#4b5563;--tw-prose-invert-td-borders:#374151;font-size:1rem;line-height:1.75}.prose :where(picture>img):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:0;margin-top:0}.prose :where(video):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:2em;margin-top:2em}.prose :where(li):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:.5em;margin-top:.5em}.prose :where(ol>li):not(:where([class~=not-prose],[class~=not-prose] *)){padding-left:.375em}.prose :where(ul>li):not(:where([class~=not-prose],[class~=not-prose] *)){padding-left:.375em}.prose :where(.prose>ul>li p):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:.75em;margin-top:.75em}.prose :where(.prose>ul>li>:first-child):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:1.25em}.prose :where(.prose>ul>li>:last-child):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:1.25em}.prose :where(.prose>ol>li>:first-child):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:1.25em}.prose :where(.prose>ol>li>:last-child):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:1.25em}.prose :where(ul ul,ul ol,ol ul,ol ol):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:.75em;margin-top:.75em}.prose :where(dl):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:1.25em;margin-top:1.25em}.prose :where(dd):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:.5em;padding-left:1.625em}.prose :where(hr+*):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:0}.prose :where(h2+*):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:0}.prose :where(h3+*):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:0}.prose :where(h4+*):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:0}.prose :where(thead th:first-child):not(:where([class~=not-prose],[class~=not-prose] *)){padding-left:0}.prose :where(thead th:last-child):not(:where([class~=not-prose],[class~=not-prose] *)){padding-right:0}.prose :where(tbody td,tfoot td):not(:where([class~=not-prose],[class~=not-prose] *)){padding:.5714286em}.prose :where(tbody td:first-child,tfoot td:first-child):not(:where([class~=not-prose],[class~=not-prose] *)){padding-left:0}.prose :where(tbody td:last-child,tfoot td:last-child):not(:where([class~=not-prose],[class~=not-prose] *)){padding-right:0}.prose :where(figure):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:2em;margin-top:2em}.prose :where(.prose>:first-child):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:0}.prose :where(.prose>:last-child):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:0}.prose-lg{font-size:1.125rem;line-height:1.7777778}.prose-lg :where(p):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:1.3333333em;margin-top:1.3333333em}.prose-lg :where([class~=lead]):not(:where([class~=not-prose],[class~=not-prose] *)){font-size:1.2222222em;line-height:1.4545455;margin-bottom:1.0909091em;margin-top:1.0909091em}.prose-lg :where(blockquote):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:1.6666667em;margin-top:1.6666667em;padding-left:1em}.prose-lg :where(h1):not(:where([class~=not-prose],[class~=not-prose] *)){font-size:2.6666667em;line-height:1;margin-bottom:.8333333em;margin-top:0}.prose-lg :where(h2):not(:where([class~=not-prose],[class~=not-prose] *)){font-size:1.6666667em;line-height:1.3333333;margin-bottom:1.0666667em;margin-top:1.8666667em}.prose-lg :where(h3):not(:where([class~=not-prose],[class~=not-prose] *)){font-size:1.3333333em;line-height:1.5;margin-bottom:.6666667em;margin-top:1.6666667em}.prose-lg :where(h4):not(:where([class~=not-prose],[class~=not-prose] *)){line-height:1.5555556;margin-bottom:.4444444em;margin-top:1.7777778em}.prose-lg :where(img):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:1.7777778em;margin-top:1.7777778em}.prose-lg :where(picture):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:1.7777778em;margin-top:1.7777778em}.prose-lg :where(picture>img):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:0;margin-top:0}.prose-lg :where(video):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:1.7777778em;margin-top:1.7777778em}.prose-lg :where(kbd):not(:where([class~=not-prose],[class~=not-prose] *)){border-radius:.3125rem;font-size:.8888889em;padding:.2222222em .4444444em}.prose-lg :where(code):not(:where([class~=not-prose],[class~=not-prose] *)){font-size:.8888889em}.prose-lg :where(h2 code):not(:where([class~=not-prose],[class~=not-prose] *)){font-size:.8666667em}.prose-lg :where(h3 code):not(:where([class~=not-prose],[class~=not-prose] *)){font-size:.875em}.prose-lg :where(pre):not(:where([class~=not-prose],[class~=not-prose] *)){border-radius:.375rem;font-size:.8888889em;line-height:1.75;margin-bottom:2em;margin-top:2em;padding:1em 1.5em}.prose-lg :where(ol):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:1.3333333em;margin-top:1.3333333em;padding-left:1.5555556em}.prose-lg :where(ul):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:1.3333333em;margin-top:1.3333333em;padding-left:1.5555556em}.prose-lg :where(li):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:.6666667em;margin-top:.6666667em}.prose-lg :where(ol>li):not(:where([class~=not-prose],[class~=not-prose] *)){padding-left:.4444444em}.prose-lg :where(ul>li):not(:where([class~=not-prose],[class~=not-prose] *)){padding-left:.4444444em}.prose-lg :where(.prose-lg>ul>li p):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:.8888889em;margin-top:.8888889em}.prose-lg :where(.prose-lg>ul>li>:first-child):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:1.3333333em}.prose-lg :where(.prose-lg>ul>li>:last-child):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:1.3333333em}.prose-lg :where(.prose-lg>ol>li>:first-child):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:1.3333333em}.prose-lg :where(.prose-lg>ol>li>:last-child):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:1.3333333em}.prose-lg :where(ul ul,ul ol,ol ul,ol ol):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:.8888889em;margin-top:.8888889em}.prose-lg :where(dl):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:1.3333333em;margin-top:1.3333333em}.prose-lg :where(dt):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:1.3333333em}.prose-lg :where(dd):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:.6666667em;padding-left:1.5555556em}.prose-lg :where(hr):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:3.1111111em;margin-top:3.1111111em}.prose-lg :where(hr+*):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:0}.prose-lg :where(h2+*):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:0}.prose-lg :where(h3+*):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:0}.prose-lg :where(h4+*):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:0}.prose-lg :where(table):not(:where([class~=not-prose],[class~=not-prose] *)){font-size:.8888889em;line-height:1.5}.prose-lg :where(thead th):not(:where([class~=not-prose],[class~=not-prose] *)){padding-bottom:.75em;padding-left:.75em;padding-right:.75em}.prose-lg :where(thead th:first-child):not(:where([class~=not-prose],[class~=not-prose] *)){padding-left:0}.prose-lg :where(thead th:last-child):not(:where([class~=not-prose],[class~=not-prose] *)){padding-right:0}.prose-lg :where(tbody td,tfoot td):not(:where([class~=not-prose],[class~=not-prose] *)){padding:.75em}.prose-lg :where(tbody td:first-child,tfoot td:first-child):not(:where([class~=not-prose],[class~=not-prose] *)){padding-left:0}.prose-lg :where(tbody td:last-child,tfoot td:last-child):not(:where([class~=not-prose],[class~=not-prose] *)){padding-right:0}.prose-lg :where(figure):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:1.7777778em;margin-top:1.7777778em}.prose-lg :where(figure>*):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:0;margin-top:0}.prose-lg :where(figcaption):not(:where([class~=not-prose],[class~=not-prose] *)){font-size:.8888889em;line-height:1.5;margin-top:1em}.prose-lg :where(.prose-lg>:first-child):not(:where([class~=not-prose],[class~=not-prose] *)){margin-top:0}.prose-lg :where(.prose-lg>:last-child):not(:where([class~=not-prose],[class~=not-prose] *)){margin-bottom:0}.mx-auto{margin-left:auto;margin-right:auto}.mb-10{margin-bottom:2.5rem}.mb-12{margin-bottom:3rem}.mb-2{margin-bottom:.5rem}.mb-3{margin-bottom:.75rem}.mb-6{margin-bottom:1.5rem}.mb-8{margin-bottom:2rem}.mb-auto{margin-bottom:auto}.ml-1{margin-left:.25rem}.mr-2{margin-right:.5rem}.mt-10{margin-top:2.5rem}.mt-20{margin-top:5rem}.mt-24{margin-top:6rem}.mt-8{margin-top:2rem}.block{display:block}.flex{display:flex}.inline-flex{display:inline-flex}.hidden{display:none}.h-4{height:1rem}.h-5{height:1.25rem}.h-screen{height:100vh}.w-4{width:1rem}.w-5{width:1.25rem}.max-w-5xl{max-width:64rem}.max-w-none{max-width:none}.max-w-sm{max-width:24rem}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.items-center{align-items:center}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-12{gap:3rem}.space-x-6>:not([hidden])~:not([hidden]){--tw-space-x-reverse:0;margin-left:calc(1.5rem*(1 - var(--tw-space-x-reverse)));margin-right:calc(1.5rem*var(--tw-space-x-reverse))}.rounded{border-radius:.25rem}.rounded-full{border-radius:9999px}.rounded-md{border-radius:.375rem}.border{border-width:1px}.border-y-2{border-bottom-width:2px;border-top-width:2px}.border-b{border-bottom-width:1px}.border-gray-200{--tw-border-opacity:1;border-color:rgb(229 231 235/var(--tw-border-opacity))}.border-slate-300{--tw-border-opacity:1;border-color:rgb(203 213 225/var(--tw-border-opacity))}.border-slate-400{--tw-border-opacity:1;border-color:rgb(148 163 184/var(--tw-border-opacity))}.border-transparent{border-color:transparent}.bg-slate-100{--tw-bg-opacity:1;background-color:rgb(241 245 249/var(--tw-bg-opacity))}.bg-slate-800{--tw-bg-opacity:1;background-color:rgb(30 41 59/var(--tw-bg-opacity))}.stroke-slate-100{stroke:#f1f5f9}.stroke-slate-800{stroke:#1e293b}.p-2{padding:.5rem}.p-4{padding:1rem}.px-2{padding-left:.5rem;padding-right:.5rem}.px-4{padding-left:1rem;padding-right:1rem}.py-2{padding-bottom:.5rem;padding-top:.5rem}.py-4{padding-bottom:1rem;padding-top:1rem}.pb-16{padding-bottom:4rem}.pr-28{padding-right:7rem}.pt-24{padding-top:6rem}.pt-8{padding-top:2rem}.text-2xl{font-size:1.5rem;line-height:2rem}.text-3xl{font-size:1.875rem;line-height:2.25rem}.text-5xl{font-size:3rem;line-height:1}.text-6xl{font-size:3.75rem;line-height:1}.text-7xl{font-size:4.5rem;line-height:1}.text-base{font-size:1rem;line-height:1.5rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.font-bold{font-weight:700}.font-extrabold{font-weight:800}.font-medium{font-weight:500}.font-semibold{font-weight:600}.leading-9{line-height:2.25rem}.leading-snug{line-height:1.375}.tracking-tight{letter-spacing:-.025em}.text-blue-600{--tw-text-opacity:1;color:rgb(37 99 235/var(--tw-text-opacity))}.text-gray-700{--tw-text-opacity:1;color:rgb(55 65 81/var(--tw-text-opacity))}.text-gray-800{--tw-text-opacity:1;color:rgb(31 41 55/var(--tw-text-opacity))}.text-slate-400{--tw-text-opacity:1;color:rgb(148 163 184/var(--tw-text-opacity))}.text-slate-500{--tw-text-opacity:1;color:rgb(100 116 139/var(--tw-text-opacity))}.text-slate-600{--tw-text-opacity:1;color:rgb(71 85 105/var(--tw-text-opacity))}.text-slate-700{--tw-text-opacity:1;color:rgb(51 65 85/var(--tw-text-opacity))}.text-slate-800{--tw-text-opacity:1;color:rgb(30 41 59/var(--tw-text-opacity))}.text-slate-900{--tw-text-opacity:1;color:rgb(15 23 42/var(--tw-text-opacity))}.shadow{--tw-shadow:0 1px 3px 0 rgba(0,0,0,.1),0 1px 2px -1px rgba(0,0,0,.1);--tw-shadow-colored:0 1px 3px 0 var(--tw-shadow-color),0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.transition-all{transition-duration:.15s;transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1)}body{background-color:rgb(248 250 252/var(--tw-bg-opacity));padding-left:.5rem;padding-right:.5rem;transition-duration:.15s;transition-property:background-color;transition-timing-function:cubic-bezier(.4,0,.2,1)}body,body.dark{--tw-bg-opacity:1}body.dark{background-color:rgb(30 41 59/var(--tw-bg-opacity))}.prose .anchor svg{display:inline}.prose li code,.prose p code,.prose td code{--tw-bg-opacity:1;--tw-text-opacity:1;background-color:rgb(55 65 81/var(--tw-bg-opacity));border-radius:.375rem;color:rgb(229 231 235/var(--tw-text-opacity));font-size:1rem;line-height:1.5rem;padding:.25rem .5rem}.prose kbd{--tw-border-opacity:1;--tw-bg-opacity:1;--tw-text-opacity:1;background-color:rgb(229 231 235/var(--tw-bg-opacity));border-color:rgb(209 213 219/var(--tw-border-opacity));border-radius:.5rem;border-width:1px;color:rgb(31 41 55/var(--tw-text-opacity));font-size:.875rem;font-weight:600;line-height:1.25rem;padding:.375rem .5rem}:is(.dark .prose kbd){--tw-border-opacity:1;--tw-bg-opacity:1;--tw-text-opacity:1;background-color:rgb(75 85 99/var(--tw-bg-opacity));border-color:rgb(107 114 128/var(--tw-border-opacity));color:rgb(243 244 246/var(--tw-text-opacity))}.gatsby-highlight{font-size:1rem;line-height:1.5rem}.gatsby-highlight pre{padding-left:1.5rem!important;padding-right:1.5rem!important}.gatsby-highlight-code-line{background-color:#3c4747;border-left:.25em solid #99ffda;display:block;margin-left:-1em;margin-right:-1em;padding-left:.75em;padding-right:1em}.code-filename{--tw-border-opacity:1;--tw-bg-opacity:1;--tw-text-opacity:1;background-color:rgb(71 85 105/var(--tw-bg-opacity));border-color:rgb(71 85 105/var(--tw-border-opacity));border-radius:.25rem;color:rgb(203 213 225/var(--tw-text-opacity));font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1rem;line-height:1.5rem;margin-bottom:-1rem;padding-bottom:.75rem;padding-left:.5rem;padding-top:.25rem}:is(.dark .dark\:prose-invert){--tw-prose-body:var(--tw-prose-invert-body);--tw-prose-headings:var(--tw-prose-invert-headings);--tw-prose-lead:var(--tw-prose-invert-lead);--tw-prose-links:var(--tw-prose-invert-links);--tw-prose-bold:var(--tw-prose-invert-bold);--tw-prose-counters:var(--tw-prose-invert-counters);--tw-prose-bullets:var(--tw-prose-invert-bullets);--tw-prose-hr:var(--tw-prose-invert-hr);--tw-prose-quotes:var(--tw-prose-invert-quotes);--tw-prose-quote-borders:var(--tw-prose-invert-quote-borders);--tw-prose-captions:var(--tw-prose-invert-captions);--tw-prose-kbd:var(--tw-prose-invert-kbd);--tw-prose-kbd-shadows:var(--tw-prose-invert-kbd-shadows);--tw-prose-code:var(--tw-prose-invert-code);--tw-prose-pre-code:var(--tw-prose-invert-pre-code);--tw-prose-pre-bg:var(--tw-prose-invert-pre-bg);--tw-prose-th-borders:var(--tw-prose-invert-th-borders);--tw-prose-td-borders:var(--tw-prose-invert-td-borders)}.last\:border-hidden:last-child{border-style:hidden}.hover\:border-b-blue-600:hover{--tw-border-opacity:1;border-bottom-color:rgb(37 99 235/var(--tw-border-opacity))}.hover\:text-blue-600:hover{--tw-text-opacity:1;color:rgb(37 99 235/var(--tw-text-opacity))}.hover\:underline:hover{text-decoration-line:underline}.prose-h2\:border-b :is(:where(h2):not(:where([class~=not-prose],[class~=not-prose] *))){border-bottom-width:1px}.prose-h2\:border-gray-200 :is(:where(h2):not(:where([class~=not-prose],[class~=not-prose] *))){--tw-border-opacity:1;border-color:rgb(229 231 235/var(--tw-border-opacity))}.prose-h2\:py-2 :is(:where(h2):not(:where([class~=not-prose],[class~=not-prose] *))){padding-bottom:.5rem;padding-top:.5rem}.prose-a\:text-blue-600 :is(:where(a):not(:where([class~=not-prose],[class~=not-prose] *))){--tw-text-opacity:1;color:rgb(37 99 235/var(--tw-text-opacity))}.prose-code\:before\:content-none :is(:where(code):not(:where([class~=not-prose],[class~=not-prose] *))):before{--tw-content:none;content:var(--tw-content)}.prose-code\:after\:content-none :is(:where(code):not(:where([class~=not-prose],[class~=not-prose] *))):after{--tw-content:none;content:var(--tw-content)}:is(.dark .dark\:block){display:block}:is(.dark .dark\:hidden){display:none}:is(.dark .dark\:border-gray-600){--tw-border-opacity:1;border-color:rgb(75 85 99/var(--tw-border-opacity))}:is(.dark .dark\:border-slate-500){--tw-border-opacity:1;border-color:rgb(100 116 139/var(--tw-border-opacity))}:is(.dark .dark\:border-slate-700){--tw-border-opacity:1;border-color:rgb(51 65 85/var(--tw-border-opacity))}:is(.dark .dark\:bg-slate-300){--tw-bg-opacity:1;background-color:rgb(203 213 225/var(--tw-bg-opacity))}:is(.dark .dark\:bg-slate-700){--tw-bg-opacity:1;background-color:rgb(51 65 85/var(--tw-bg-opacity))}:is(.dark .dark\:text-blue-500){--tw-text-opacity:1;color:rgb(59 130 246/var(--tw-text-opacity))}:is(.dark .dark\:text-gray-400){--tw-text-opacity:1;color:rgb(156 163 175/var(--tw-text-opacity))}:is(.dark .dark\:text-slate-200){--tw-text-opacity:1;color:rgb(226 232 240/var(--tw-text-opacity))}:is(.dark .dark\:text-slate-300){--tw-text-opacity:1;color:rgb(203 213 225/var(--tw-text-opacity))}:is(.dark .dark\:text-slate-400){--tw-text-opacity:1;color:rgb(148 163 184/var(--tw-text-opacity))}:is(.dark .dark\:text-slate-50){--tw-text-opacity:1;color:rgb(248 250 252/var(--tw-text-opacity))}:is(.dark .dark\:text-slate-500){--tw-text-opacity:1;color:rgb(100 116 139/var(--tw-text-opacity))}:is(.dark .dark\:shadow-slate-600){--tw-shadow-color:#475569;--tw-shadow:var(--tw-shadow-colored)}:is(.dark .dark\:shadow-slate-700){--tw-shadow-color:#334155;--tw-shadow:var(--tw-shadow-colored)}:is(.dark .dark\:hover\:border-b-blue-500:hover){--tw-border-opacity:1;border-bottom-color:rgb(59 130 246/var(--tw-border-opacity))}:is(.dark .dark\:hover\:text-blue-500:hover){--tw-text-opacity:1;color:rgb(59 130 246/var(--tw-text-opacity))}:is(.dark .dark\:prose-a\:text-blue-500 :is(:where(a):not(:where([class~=not-prose],[class~=not-prose] *)))){--tw-text-opacity:1;color:rgb(59 130 246/var(--tw-text-opacity))}code[class*=language-],pre[class*=language-]{word-wrap:normal;background:none;color:#ccc;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;-webkit-hyphens:none;hyphens:none;line-height:1.5;tab-size:4;text-align:left;white-space:pre;word-break:normal;word-spacing:normal}pre[class*=language-]{margin:.5em 0;overflow:auto;padding:1em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#2d2d2d}:not(pre)>code[class*=language-]{border-radius:.3em;padding:.1em;white-space:normal}.token.block-comment,.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#999}.token.punctuation{color:#ccc}.token.attr-name,.token.deleted,.token.namespace,.token.tag{color:#e2777a}.token.function-name{color:#6196cc}.token.boolean,.token.function,.token.number{color:#f08d49}.token.class-name,.token.constant,.token.property,.token.symbol{color:#f8c555}.token.atrule,.token.builtin,.token.important,.token.keyword,.token.selector{color:#cc99cd}.token.attr-value,.token.char,.token.regex,.token.string,.token.variable{color:#7ec699}.token.entity,.token.operator,.token.url{color:#67cdcc}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.token.inserted{color:green}</style><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper picture.object-fit-polyfill{position:static!important}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){const t=e.target;if(void 0===t.dataset.mainImage)return;if(void 0===t.dataset.gatsbyImageSsr)return;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><link rel="sitemap" type="application/xml" href="/fbraza-github-pages/sitemap-index.xml"/><link rel="icon" href="/fbraza-github-pages/favicon-32x32.png?v=53aa06cf17e4239d0dba6ffd09854e02" type="image/png"/><link rel="manifest" href="/fbraza-github-pages/manifest.webmanifest" crossorigin="anonymous"/><link rel="apple-touch-icon" sizes="48x48" href="/fbraza-github-pages/icons/icon-48x48.png?v=53aa06cf17e4239d0dba6ffd09854e02"/><link rel="apple-touch-icon" sizes="72x72" href="/fbraza-github-pages/icons/icon-72x72.png?v=53aa06cf17e4239d0dba6ffd09854e02"/><link rel="apple-touch-icon" sizes="96x96" href="/fbraza-github-pages/icons/icon-96x96.png?v=53aa06cf17e4239d0dba6ffd09854e02"/><link rel="apple-touch-icon" sizes="144x144" href="/fbraza-github-pages/icons/icon-144x144.png?v=53aa06cf17e4239d0dba6ffd09854e02"/><link rel="apple-touch-icon" sizes="192x192" href="/fbraza-github-pages/icons/icon-192x192.png?v=53aa06cf17e4239d0dba6ffd09854e02"/><link rel="apple-touch-icon" sizes="256x256" href="/fbraza-github-pages/icons/icon-256x256.png?v=53aa06cf17e4239d0dba6ffd09854e02"/><link rel="apple-touch-icon" sizes="384x384" href="/fbraza-github-pages/icons/icon-384x384.png?v=53aa06cf17e4239d0dba6ffd09854e02"/><link rel="apple-touch-icon" sizes="512x512" href="/fbraza-github-pages/icons/icon-512x512.png?v=53aa06cf17e4239d0dba6ffd09854e02"/><style type="text/css">
    .anchor.before {
      position: absolute;
      top: 0;
      left: 0;
      transform: translateX(-100%);
      padding-right: 4px;
    }
    .anchor.after {
      display: inline-block;
      padding-left: 4px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><title data-gatsby-head="true">An overview of Vertex.ai</title></head><body><script id="gatsby-plugin-use-dark-mode">(function(t,l,o){function c(r){document.body.classList.add(r?t:l);document.body.classList.remove(r?l:t)}var s="(prefers-color-scheme: dark)";var a=window.matchMedia(s);var d=a.media===s;var e=null;try{e=JSON.parse(localStorage.getItem(o))}catch(r){}var i=e===true||e===false;if(i){c(e)}else if(d){c(a.matches);localStorage.setItem(o,a.matches)}else{var n=document.body.classList.contains(t);localStorage.setItem(o,JSON.stringify(n))}})("dark","light-mode","darkMode");</script><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="flex flex-col h-screen justify-between"><section class="pt-8"><nav><div class="container mx-auto"><div class="text-2xl mb-2 font-bold text-gray-800 dark:text-slate-300"><a href="/fbraza-github-pages/">Faouzi Braza</a></div><div class="container mx-auto flex justify-between items-center"><div class="flex space-x-6"><a class="text-lg py-2 text-gray-700 font-medium hover:border-b-blue-600 hover:text-blue-600 border-transparent border-y-2 dark:text-slate-400 dark:hover:border-b-blue-500 dark:hover:text-blue-500" href="/fbraza-github-pages/articles/">Blog</a><a class="text-lg py-2 text-gray-700 font-medium hover:border-b-blue-600 hover:text-blue-600 border-transparent border-y-2 dark:text-slate-400 dark:hover:border-b-blue-500 dark:hover:text-blue-500" href="/fbraza-github-pages/about/">About</a><a class="text-lg py-2 text-gray-700 font-medium hover:border-b-blue-600 hover:text-blue-600 border-transparent border-y-2 dark:text-slate-400 dark:hover:border-b-blue-500 dark:hover:text-blue-500" href="/fbraza-github-pages/contact/">Contact</a></div><div><button class="p-2 rounded-full bg-slate-800 shadow transition-all dark:bg-slate-300"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4 stroke-slate-800 hidden dark:block"><path stroke-linecap="round" stroke-linejoin="round" d="M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-4.773-4.227l-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4 stroke-slate-100 block dark:hidden"><path stroke-linecap="round" stroke-linejoin="round" d="M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 009.002-5.998z"></path></svg></button></div></div></div></nav></section><main class="mt-24 mb-auto"><section><div class="container mx-auto"><h1 class="mb-8 text-5xl font-bold tracking-tight leading-snug dark:text-slate-50">An overview of Vertex.ai</h1><p class="text-base mb-8 dark:text-slate-400">May 06, 2023</p><div class="mb-12"><div class="flex flex-wrap"><a class="font-semibold text-slate-700 border rounded py-2 px-2 border-slate-400 mr-2 mb-2 bg-slate-100 dark:bg-slate-700 dark:border-gray-600 dark:text-gray-400" href="/fbraza-github-pages/tags/python/">Python</a><a class="font-semibold text-slate-700 border rounded py-2 px-2 border-slate-400 mr-2 mb-2 bg-slate-100 dark:bg-slate-700 dark:border-gray-600 dark:text-gray-400" href="/fbraza-github-pages/tags/google-cloud/">Google Cloud</a></div></div><div class="prose prose-lg max-w-none prose-h2:border-b prose-h2:border-gray-200 prose-h2:py-2 prose-a:text-blue-600 prose-code:before:content-none prose-code:after:content-none dark:prose-invert dark:prose-a:text-blue-500"><p><a href="https://cloud.google.com/vertex-ai?hl=us">Vertex.ai</a> is a Google Cloud service that enables the user to build, deploy, and scale data pipelines and machine learning models. It includes some services to track and manage model artifacts, performances and metrics. Google provide a <a href="https://cloud.google.com/vertex-ai/docs/start/use-vertex-ai-python-sdk">Python SDK</a> that permits the user to interact directly with the different services.</p>
<p>Vertex AI pipeline allows you to orchestrate different steps of a data pipeline. Each step of the pipeline is an autonomous piece of code that will be executed in its own container. Each of these steps can accept inputs and generate outputs for downstream steps. Altogether the steps define a workflow that can be represented as an directed acyclic graph (DAG) (Figure 1). Here I am going to gather some personal notes and feedbacks related to my own experience with this cloud service and try to provide some personal advises.</p>
<p><span class="gatsby-resp-image-wrapper" style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; ">
      <a class="gatsby-resp-image-link" href="/fbraza-github-pages/static/f4801f88256f9bf9569609d1acbf8b82/29114/2023-05-06-overview-vertexai-figure-01.png" style="display: block" target="_blank" rel="noopener">
    <span class="gatsby-resp-image-background-image" style="padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAAByElEQVR42n1S2U4VQRDt/3/hQYOoEEP8Bn0AhUCIH2LEmLmz9b73oapnwBtM7ORMdae2U6dGnN+MuLxf8PmHwbtvE06+PBJ+483XXzi7esSH6z+4uBnw6U7i/a3Ex9sZp98lLu41zu803l6NOLs+4PJBkf0JUZIBakA/LaHxvUXU7Pd7Jkdh5z9orSIFB28WquGRk4cY1ghpM3xsKLXBxopFOVgXsDiF2ZCf3qvWGPSKRfPbYLUWizcwxiHE1OONdRDOB6SUqVhF3ZFihnMJpWTkUhBCgnfbvRD4zjmVGFpj4b2HlLJDKKVwOBx6MJ9cKhWIW8cYYEOmzp4aOChqrv3+Dh6xRBozIecMTRNwrV7QGEN6kCrEzqcCpR2Y+WwVlIsU7CApYXUampgrGlkaDUc6z/Pc853z3Qr+hLAthcdlsRPpyEyjpxFzofEKsajUtFFMQ4x1j0VnxvnTNGIcRwhL4jJLDuAEBhebladgQ0vQmIgNL2zT8K/WfDiXi2pLk5Ceomuj5EvQhtbFb7X1d6llZ1dfGj8X5EUMwwBPujNTcRz0jOOk142OfWylVLuGlvScIFJKGxty8vpfF/8/gHWlf3NZOju2T9fLT5tjaaU1AAAAAElFTkSuQmCC'); background-size: cover; display: block;"></span>
  <img class="gatsby-resp-image-image" alt="Vertexai" title="Vertexai" src="/fbraza-github-pages/static/f4801f88256f9bf9569609d1acbf8b82/2bef9/2023-05-06-overview-vertexai-figure-01.png" srcset="/fbraza-github-pages/static/f4801f88256f9bf9569609d1acbf8b82/6f3f2/2023-05-06-overview-vertexai-figure-01.png 256w,
/fbraza-github-pages/static/f4801f88256f9bf9569609d1acbf8b82/01e7c/2023-05-06-overview-vertexai-figure-01.png 512w,
/fbraza-github-pages/static/f4801f88256f9bf9569609d1acbf8b82/2bef9/2023-05-06-overview-vertexai-figure-01.png 1024w,
/fbraza-github-pages/static/f4801f88256f9bf9569609d1acbf8b82/71c1d/2023-05-06-overview-vertexai-figure-01.png 1536w,
/fbraza-github-pages/static/f4801f88256f9bf9569609d1acbf8b82/29114/2023-05-06-overview-vertexai-figure-01.png 1920w" sizes="(max-width: 1024px) 100vw, 1024px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;" loading="lazy" decoding="async">
  </a>
    </span></p>
<p><em>Figure 1</em> : Example of a vertex ai pipeline</p>
<h2 id="anatomy-of-a-component" style="position:relative;"><a href="#anatomy-of-a-component" aria-label="anatomy of a component permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Anatomy of a component</h2>
<p>The core unit of computation is called a component. A component is an independent piece of code that will be uploaded and containarized in the Vertex platform to be executed. With Vertex, you can use the <a href="https://www.kubeflow.org/docs/components/pipelines/v2/">Kubeflow pipelines sdk</a> to implement your code. A typical components can be implemented as followed.</p>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python"><span class="token keyword">from</span> kfp<span class="token punctuation">.</span>v2<span class="token punctuation">.</span>dsl <span class="token keyword">import</span> <span class="token punctuation">(</span>
    Dataset<span class="token punctuation">,</span>
    Input<span class="token punctuation">,</span>
<span class="token punctuation">)</span>

<span class="token decorator annotation punctuation">@component</span><span class="token punctuation">(</span>
    packages_to_install<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">"put"</span><span class="token punctuation">,</span> <span class="token string">"here"</span><span class="token punctuation">,</span> <span class="token string">"librairies"</span><span class="token punctuation">,</span> <span class="token string">"to"</span><span class="token punctuation">,</span> <span class="token string">"install"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    base_image<span class="token operator">=</span><span class="token string">"the docker image to use"</span><span class="token punctuation">,</span>
    output_component_file<span class="token operator">=</span><span class="token string">"component_one.yaml"</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">component_one</span><span class="token punctuation">(</span>processed_data<span class="token punctuation">:</span> Output<span class="token punctuation">[</span>Dataset<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># ---- imports</span>
    <span class="token comment"># Import your modules</span>

    <span class="token comment"># ---- Helpers</span>
    <span class="token comment"># Implemenent helpers functions</span>

    <span class="token comment"># ---- variable</span>
    <span class="token comment"># add any local variable</span>

    <span class="token comment"># ---- Component execution</span>
    <span class="token comment"># Implement the logic of your component</span></code></pre></div>
<p>As you can see, a component is simply a function encapsulated in a <code>@component</code> decorator. The decorator is using three arguments here:</p>
<ul>
<li><code>packages_to_install</code>: a <code>list</code> containing the name of the libraries you wish to install and that will be used in you component.</li>
<li><code>base_image</code>: a docker image with the basic environment you wish to execute your code on.</li>
<li><code>output_component_file</code>: path where you want the library to generate a <code>yaml</code> template of your component that will be interpreted by vertex to execute your task. An example is showed in the supplemental data of this article.</li>
</ul>
<h2 id="the-art-of-writing-component" style="position:relative;"><a href="#the-art-of-writing-component" aria-label="the art of writing component permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>The art of writing component</h2>
<p>Being an independent piece of code comes with an important trade-off. <strong>Every extra code you need, has to be implemented in the component function</strong>. Your <code>import</code> statements must be declared here and any helper functions should be implemented as inner functions if you wish to use them. Any code outside the component will be simply ignored.</p>
<p>At the beginning my components were just huge chunks of code and this was bad. Indeed, inner functions cannot be unit tested which make the maintenance of such code very difficult. To avoid that and after having implemented working components, I refactored the code such that all helpers functions were packaged in our internal library deployed in our private repository. As such these functions can be all unit tested and we can use them by pointing the <code>base_image</code> to a docker image that contains our library. Doing this dramatically reduced the size of our components and make them easy to read and maintain.</p>
<p>Organising your code may helped to. Here the repository structure:</p>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash"><span class="token builtin class-name">.</span>
├── ai_vertex
│   ├── components
│   ├── __init__.py
│   ├── pipelines.py
│   ├── image1.Dockerfile
│   ├── image2.Dockerfile
│   ├── templates
│   └── cli.py
</code></pre></div>
<p>Components are stored in a <code>components</code> folder and are grouped by task (etl, ml or viz). The <code>pipelines.py</code> is where the DAGs are defined. The <code>templates</code> folder is where the templates will be generated and loaded from by the library to deploy and execute your components. I like to encaspulate my code logic into command line applications (CLI). I use <a href="https://typer.tiangolo.com/">Typer</a>, a library that capitalises on <a href="https://click.palletsprojects.com/en/8.1.x/">click</a> but brings the programming philosophy and simplicity of <a href="https://fastapi.tiangolo.com/">FastAPI</a>. I like to use CLI, because it makes the developer experience easier and allow me to encapsulate complex tasks into simple-to-use command lines. In my case, the cli contains all the commands needed to deploy our different pipelines for model training, model evaluation and metrics report.</p>
<h2 id="making-components-communicate" style="position:relative;"><a href="#making-components-communicate" aria-label="making components communicate permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Making components communicate</h2>
<p>Let's update our previous code.</p>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python"><span class="token keyword">from</span> kfp<span class="token punctuation">.</span>v2<span class="token punctuation">.</span>dsl <span class="token keyword">import</span> <span class="token punctuation">(</span>
    Dataset<span class="token punctuation">,</span>
    Input<span class="token punctuation">,</span>
<span class="token punctuation">)</span>

<span class="token decorator annotation punctuation">@component</span><span class="token punctuation">(</span>
    packages_to_install<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">"put"</span><span class="token punctuation">,</span> <span class="token string">"here"</span><span class="token punctuation">,</span> <span class="token string">"librairies"</span><span class="token punctuation">,</span> <span class="token string">"to"</span><span class="token punctuation">,</span> <span class="token string">"install"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    base_image<span class="token operator">=</span><span class="token string">"the docker image to use"</span><span class="token punctuation">,</span>
    output_component_file<span class="token operator">=</span><span class="token string">"component_one.yaml"</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">component_one</span><span class="token punctuation">(</span>raw_data<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">,</span> processed_data<span class="token punctuation">:</span> Output<span class="token punctuation">[</span>Dataset<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># ---- imports</span>
    <span class="token comment"># Import your modules</span>

    <span class="token comment"># No helpers because we refactored :-)</span>

    <span class="token comment"># ---- Component execution</span>
    <span class="token comment"># Implement the logic of your component</span>

<span class="token decorator annotation punctuation">@component</span><span class="token punctuation">(</span>
    packages_to_install<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">"put"</span><span class="token punctuation">,</span> <span class="token string">"here"</span><span class="token punctuation">,</span> <span class="token string">"librairies"</span><span class="token punctuation">,</span> <span class="token string">"to"</span><span class="token punctuation">,</span> <span class="token string">"install"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    base_image<span class="token operator">=</span><span class="token string">"the docker image to use"</span><span class="token punctuation">,</span>
    output_component_file<span class="token operator">=</span><span class="token string">"component_two.yaml"</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">component_two</span><span class="token punctuation">(</span>processed_data<span class="token punctuation">:</span> Input<span class="token punctuation">[</span>Dataset<span class="token punctuation">]</span><span class="token punctuation">,</span> metrics<span class="token punctuation">:</span> Output<span class="token punctuation">[</span>Dataset<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># ---- imports</span>
    <span class="token comment"># Import your modules</span>

    <span class="token comment"># No helpers because we refactored :-)</span>

    <span class="token comment"># ---- Component execution</span>
    <span class="token comment"># Implement the logic of your component</span></code></pre></div>
<p>Let's understand how a component can generate outputs / artifacts and how these can be digested in downstream steps. Let's imagine the <code>component_one</code> to be a classical processing function that takes raw data, processes it and returns an output ready to be processed by the next step. The <code>raw_data</code> argument is a string that is a path pointing to the source data, a <code>csv</code> file seated in our bucket for example. For I/O operations, you have two choices in Vertex:</p>
<ul>
<li>You can use the classical python <a href="https://cloud.google.com/python/docs/reference/storage/latest">library</a> to interact with this file on Cloud storage</li>
<li>You can leverage the power of <a href="https://cloud.google.com/storage/docs/gcs-fuse?hl=fr">Cloud storage FUSE</a>. Briefly, FUSE is an abstraction layer on top of Cloud storage that makes python beleive, it is a simple filesystem. As such you can use classic python code to make I/O operations. Let's say you need to save a dataframe as a <code>csv</code> file:</li>
</ul>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python"><span class="token comment"># WITH THE LIBRARY</span>
<span class="token keyword">def</span> <span class="token function">component_one</span><span class="token punctuation">(</span>raw_data<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">,</span> processed_data<span class="token punctuation">:</span> Output<span class="token punctuation">[</span>Dataset<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd
    <span class="token keyword">from</span> google<span class="token punctuation">.</span>cloud<span class="token punctuation">.</span>storage <span class="token keyword">import</span> Client<span class="token punctuation">,</span> Bucket

    gcs_client <span class="token operator">=</span> Client<span class="token punctuation">(</span><span class="token punctuation">)</span>
    bucket<span class="token punctuation">:</span> Bucket <span class="token operator">=</span> gcs_client<span class="token punctuation">.</span>bucket<span class="token punctuation">(</span>bucket_name<span class="token punctuation">)</span>
    blob <span class="token operator">=</span> bucket<span class="token punctuation">.</span>get_blob<span class="token punctuation">(</span>raw_data<span class="token punctuation">)</span>
    <span class="token comment"># Read data</span>
    my_dataframe <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_csv<span class="token punctuation">(</span>
        io<span class="token punctuation">.</span>StringIO<span class="token punctuation">(</span>blob<span class="token punctuation">.</span>download_as_bytes<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>decode<span class="token punctuation">(</span>encoding<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span>
    <span class="token comment"># save the dataframe as csv</span>
    bucket<span class="token punctuation">.</span>blob<span class="token punctuation">(</span>processed_data<span class="token punctuation">.</span>path<span class="token punctuation">)</span><span class="token punctuation">.</span>upload_from_string<span class="token punctuation">(</span>
        my_dataframe<span class="token punctuation">.</span>to_csv<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> content_type<span class="token operator">=</span><span class="token string">"text/csv"</span>
    <span class="token punctuation">)</span>

<span class="token comment"># WITH FUSE</span>
<span class="token keyword">def</span> <span class="token function">component_one</span><span class="token punctuation">(</span>raw_data<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">,</span> processed_data<span class="token punctuation">:</span> Output<span class="token punctuation">[</span>Dataset<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    my_dataframe <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_csv<span class="token punctuation">(</span><span class="token string">"path_to_data"</span><span class="token punctuation">)</span>
    my_dataframe<span class="token punctuation">.</span>to_csv<span class="token punctuation">(</span><span class="token string">"path_destination"</span><span class="token punctuation">)</span></code></pre></div>
<blockquote>
<p>From a developer perspective using FUSE is really neat.</p>
</blockquote>
<p>Notice the type of <code>processed_data</code>. It is an <code>Output</code> of type <code>Dataset</code>. <code>Dataset</code> inherits from the <code>Artifact</code> class in the python sdk. It means that outputs are treated as artifacts (files, models, markdown, images). You can read <a href="https://www.kubeflow.org/docs/components/pipelines/v2/data-types/artifacts/">here</a> and <a href="https://kubeflow-pipelines.readthedocs.io/en/latest/source/dsl.html#kfp.dsl.Artifact">here</a> for more details. An artifact holds the representation of an <code>Input</code> or <code>Output</code> object. It contains some interesting properties that allow the developer to manipulate it and extract its path (simple, use the <code>path</code> property as shown in the code example).</p>
<p>Let's implement the second component.</p>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">component_two</span><span class="token punctuation">(</span>processed_data<span class="token punctuation">:</span> Input<span class="token punctuation">[</span>Dataset<span class="token punctuation">]</span><span class="token punctuation">,</span> metrics<span class="token punctuation">:</span> Output<span class="token punctuation">[</span>Dataset<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd

    data <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_csv<span class="token punctuation">(</span>processed_data<span class="token punctuation">.</span>path<span class="token punctuation">)</span>
    <span class="token comment"># run your model !! Fake code !!</span>
    model<span class="token punctuation">.</span>fit<span class="token punctuation">(</span><span class="token punctuation">)</span>
    y_pred <span class="token operator">=</span> model<span class="token punctuation">.</span>predict<span class="token punctuation">(</span>X_test<span class="token punctuation">)</span>
    metrics_df <span class="token operator">=</span> compute_metrics<span class="token punctuation">(</span>y_train<span class="token punctuation">,</span> y_pred_from_train<span class="token punctuation">)</span>
    metrics_df<span class="token punctuation">.</span>to_csv<span class="token punctuation">(</span>metrics<span class="token punctuation">.</span>path<span class="token punctuation">)</span></code></pre></div>
<p>Now that we have our components we need to stick them together in a pipeline.</p>
<h2 id="a-pipeline-to-rule-them-all" style="position:relative;"><a href="#a-pipeline-to-rule-them-all" aria-label="a pipeline to rule them all permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>A pipeline to rule them all</h2>
<p>Here the anatomy of our pipeline:</p>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python"><span class="token keyword">from</span> kfp<span class="token punctuation">.</span>v2<span class="token punctuation">.</span>dsl <span class="token keyword">import</span> pipeline

<span class="token decorator annotation punctuation">@pipeline</span><span class="token punctuation">(</span>
    pipeline_root<span class="token operator">=</span>PIPELINE_ROOT<span class="token punctuation">,</span>
    name<span class="token operator">=</span><span class="token string">"eval-prod-sleep-stage-pipeline"</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">super_pipeline</span><span class="token punctuation">(</span>
    raw_data_path<span class="token punctuation">:</span> <span class="token builtin">str</span>
<span class="token punctuation">)</span><span class="token punctuation">:</span>
    process_data_task <span class="token operator">=</span> component_one<span class="token punctuation">(</span>raw_data<span class="token operator">=</span>raw_data_path<span class="token punctuation">)</span>
    train_model_task <span class="token operator">=</span> component_two<span class="token punctuation">(</span>
        processed_data<span class="token operator">=</span>component_one<span class="token punctuation">.</span>outputs<span class="token punctuation">[</span><span class="token string">"processed_data"</span><span class="token punctuation">]</span>
    <span class="token punctuation">)</span></code></pre></div>
<blockquote>
<p>The <code>pipeline_root</code> is the location where the pipeline will save runs and their respective artifacts in your cloud environment (buckets).</p>
</blockquote>
<p>The magic resides in the possibily of querying outputs of the previous task simply using the property <code>outputs</code> and the function argument name of type <code>Output[Dataset]</code>. This approach is valid for any outputs that needs to be ingested by another step.</p>
<p>Note that here, if one of your task is resource intensive, you can actually specify your needs. Let's imagine that our training needs a lot of memory and cpus.</p>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python"><span class="token keyword">from</span> kfp<span class="token punctuation">.</span>v2<span class="token punctuation">.</span>dsl <span class="token keyword">import</span> pipeline

<span class="token decorator annotation punctuation">@pipeline</span><span class="token punctuation">(</span>
    pipeline_root<span class="token operator">=</span>PIPELINE_ROOT<span class="token punctuation">,</span>
    name<span class="token operator">=</span><span class="token string">"eval-prod-sleep-stage-pipeline"</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">super_pipeline</span><span class="token punctuation">(</span>
    raw_data_path<span class="token punctuation">:</span> <span class="token builtin">str</span>
<span class="token punctuation">)</span><span class="token punctuation">:</span>
    process_data_task <span class="token operator">=</span> component_one<span class="token punctuation">(</span>raw_data<span class="token operator">=</span>raw_data_path<span class="token punctuation">)</span>
    train_model_task <span class="token operator">=</span> component_two<span class="token punctuation">(</span>
        processed_data<span class="token operator">=</span>component_one<span class="token punctuation">.</span>outputs<span class="token punctuation">[</span><span class="token string">"processed_data"</span><span class="token punctuation">]</span>
    <span class="token punctuation">)</span><span class="token punctuation">.</span>set_cpu_limit<span class="token punctuation">(</span><span class="token string">"32"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>set_memory_limit<span class="token punctuation">(</span><span class="token string">"128G"</span><span class="token punctuation">)</span></code></pre></div>
<p>Using the functions <code>set_cpu_limit()</code> and <code>set_memory_limit()</code> allows to do that very easily. Be careful to know the compatible configurations in your Google cloud environment.</p>
<h2 id="execute-the-pipeline" style="position:relative;"><a href="#execute-the-pipeline" aria-label="execute the pipeline permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Execute the pipeline</h2>
<p>To execute the pipeline we use the <a href="https://cloud.google.com/python/docs/reference/aiplatform/latest/google.cloud.aiplatform">aiplatform</a> python package. It is pretty simple to implement:</p>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python"><span class="token keyword">from</span> google<span class="token punctuation">.</span>cloud <span class="token keyword">import</span> aiplatform
<span class="token keyword">from</span> kfp<span class="token punctuation">.</span>v2 <span class="token keyword">import</span> compiler

<span class="token keyword">def</span> <span class="token function">init_pipeline</span><span class="token punctuation">(</span>
    pipeline_function<span class="token punctuation">:</span> Callable<span class="token punctuation">,</span>
    params<span class="token punctuation">:</span> <span class="token builtin">dict</span><span class="token punctuation">[</span><span class="token builtin">str</span><span class="token punctuation">,</span> Any<span class="token punctuation">]</span><span class="token punctuation">,</span>
    template_path<span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">:</span>
    compiler<span class="token punctuation">.</span>Compiler<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token builtin">compile</span><span class="token punctuation">(</span>
        pipeline_func<span class="token operator">=</span>pipeline_function<span class="token punctuation">,</span>
        pipeline_parameters<span class="token operator">=</span>params<span class="token punctuation">,</span>
        package_path<span class="token operator">=</span>template_path<span class="token punctuation">,</span>
    <span class="token punctuation">)</span>
    aiplatform<span class="token punctuation">.</span>init<span class="token punctuation">(</span>
        project<span class="token operator">=</span>project<span class="token punctuation">,</span>
        staging_bucket<span class="token operator">=</span>params<span class="token punctuation">[</span><span class="token string">"staging_bucket"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        experiment<span class="token operator">=</span>params<span class="token punctuation">[</span><span class="token string">"experiment_name"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        location<span class="token operator">=</span>location<span class="token punctuation">,</span>
    <span class="token punctuation">)</span>
    <span class="token keyword">return</span> aiplatform<span class="token punctuation">.</span>PipelineJob<span class="token punctuation">(</span>
        display_name<span class="token operator">=</span>params<span class="token punctuation">[</span><span class="token string">"experiment_name"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        template_path<span class="token operator">=</span>template_path<span class="token punctuation">,</span>
        job_id<span class="token operator">=</span><span class="token string-interpolation"><span class="token string">f'</span><span class="token interpolation"><span class="token punctuation">{</span>prefix<span class="token punctuation">}</span></span><span class="token string">-</span><span class="token interpolation"><span class="token punctuation">{</span>params<span class="token punctuation">[</span><span class="token string">"experiment_name"</span><span class="token punctuation">]</span><span class="token punctuation">}</span></span><span class="token string">-</span><span class="token interpolation"><span class="token punctuation">{</span>params<span class="token punctuation">[</span><span class="token string">"experiment_run"</span><span class="token punctuation">]</span><span class="token punctuation">}</span></span><span class="token string">-</span><span class="token interpolation"><span class="token punctuation">{</span>TIMESTAMP<span class="token punctuation">}</span></span><span class="token string">'</span></span><span class="token punctuation">,</span>
        enable_caching<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span>

run <span class="token operator">=</span> init_pipeline<span class="token punctuation">(</span>
    pipeline_function<span class="token operator">=</span>super_pipeline<span class="token punctuation">,</span>
    params<span class="token operator">=</span>params<span class="token punctuation">,</span>
    template_path<span class="token operator">=</span><span class="token string">"templates/super-pipeline-template.path"</span><span class="token punctuation">,</span>
    project<span class="token operator">=</span>gcp_project<span class="token punctuation">,</span>
    location<span class="token operator">=</span>gcp_location<span class="token punctuation">,</span>
<span class="token punctuation">)</span>

run<span class="token punctuation">.</span>submit<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre></div>
<p>In my code, I created an <code>init_pipeline()</code> function that allows me to instantiate and deploy several pipelines throughout my cli. The steps are quite clear here. First, you compile the code to generate your templates. Next, you use the <code>init</code> function to set the project from the cloud environment and its respective credentials that are stored as instance attributes. Finally, you instatiate a <code>PipelineJob</code> that holds the necessary metadata and templates to execute your task. Once done you can submit your task to vertex.ai</p>
<h2 id="one-more-thing" style="position:relative;"><a href="#one-more-thing" aria-label="one more thing permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>One more thing</h2>
<p>Before closing this article I'd like to mention the MLOps capacibilities that vertex offers to users. These are minimal but extremely useful. Indeed, if you need to track models metrics and parameters at each run, the <code>aiplatform</code> library provides some interesting functions. Let's modify our <code>component_two</code> accordingly:</p>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">component_two</span><span class="token punctuation">(</span>processed_data<span class="token punctuation">:</span> Input<span class="token punctuation">[</span>Dataset<span class="token punctuation">]</span><span class="token punctuation">,</span> metrics<span class="token punctuation">:</span> Output<span class="token punctuation">[</span>Dataset<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
  <span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd

  <span class="token keyword">def</span> <span class="token function">compute_metrics</span><span class="token punctuation">(</span>label<span class="token punctuation">,</span> pred<span class="token punctuation">)</span><span class="token punctuation">:</span>
    acc <span class="token operator">=</span> <span class="token builtin">round</span><span class="token punctuation">(</span><span class="token number">100</span> <span class="token operator">*</span> metrics<span class="token punctuation">.</span>accuracy_score<span class="token punctuation">(</span>label<span class="token punctuation">,</span> pred<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
    bacc <span class="token operator">=</span> <span class="token builtin">round</span><span class="token punctuation">(</span><span class="token number">100</span> <span class="token operator">*</span> metrics<span class="token punctuation">.</span>balanced_accuracy_score<span class="token punctuation">(</span>label<span class="token punctuation">,</span> pred<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
    kapa <span class="token operator">=</span> <span class="token builtin">round</span><span class="token punctuation">(</span><span class="token number">100</span> <span class="token operator">*</span> metrics<span class="token punctuation">.</span>cohen_kappa_score<span class="token punctuation">(</span>label<span class="token punctuation">,</span> pred<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> acc<span class="token punctuation">,</span> bacc<span class="token punctuation">,</span> kapa

  data <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_csv<span class="token punctuation">(</span>processed_data<span class="token punctuation">.</span>path<span class="token punctuation">)</span>

  aiplatform<span class="token punctuation">.</span>init<span class="token punctuation">(</span>
    project<span class="token operator">=</span><span class="token string">"sensav2"</span><span class="token punctuation">,</span>
    staging_bucket<span class="token operator">=</span>staging_bucket<span class="token punctuation">,</span>
    experiment<span class="token operator">=</span>experiment_name<span class="token punctuation">,</span>
    location<span class="token operator">=</span><span class="token string">"europe-west1"</span><span class="token punctuation">,</span>
  <span class="token punctuation">)</span>

  <span class="token keyword">with</span> aiplatform<span class="token punctuation">.</span>start_run<span class="token punctuation">(</span>run<span class="token operator">=</span><span class="token string-interpolation"><span class="token string">f"prefix-you-can-choose-</span><span class="token interpolation"><span class="token punctuation">{</span>experiment_run<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span> <span class="token keyword">as</span> run<span class="token punctuation">:</span>
    model<span class="token punctuation">.</span>fit<span class="token punctuation">(</span><span class="token operator">**</span>model_params<span class="token punctuation">)</span>

    y_pred <span class="token operator">=</span> model<span class="token punctuation">.</span>predict<span class="token punctuation">(</span>X_test<span class="token punctuation">)</span>
    acc<span class="token punctuation">,</span> bacc<span class="token punctuation">,</span> kapa <span class="token operator">=</span> compute_metrics<span class="token punctuation">(</span>y_train<span class="token punctuation">,</span> y_pred_from_train<span class="token punctuation">)</span>

    metrics <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token string">"accuracy"</span><span class="token punctuation">:</span> acc<span class="token punctuation">,</span>
      <span class="token string">"balanced_accuracy"</span><span class="token punctuation">:</span> bacc<span class="token punctuation">,</span>
      <span class="token string">"kappa"</span><span class="token punctuation">:</span> kapa
    <span class="token punctuation">}</span>

    <span class="token comment"># run metrics and model parameters</span>
    run<span class="token punctuation">.</span>log_metrics<span class="token punctuation">(</span>metrics_to_log_for_run<span class="token punctuation">)</span>
    run<span class="token punctuation">.</span>log_params<span class="token punctuation">(</span>model_params<span class="token punctuation">)</span></code></pre></div>
<p>First you need to use the <code>aiplatform.init</code> function and provide an experiment name. An experiment is a logical unit in Vertex that can contain several runs. On the Vertex.ai page you can find them on the left under the <code>MODEL DEVELOPMENT</code> tab (Figure 2).</p>
<p><span class="gatsby-resp-image-wrapper" style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 318px; ">
      <a class="gatsby-resp-image-link" href="/fbraza-github-pages/static/fe9541f67d0524d5173e3790448c6962/cd2d9/2023-05-06-overview-vertexai-figure-02.png" style="display: block" target="_blank" rel="noopener">
    <span class="gatsby-resp-image-background-image" style="padding-bottom: 63.671875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAABX0lEQVR42q1T2W7CMBDM/7/2L/ohkAAl0FCSpq0EOWloTpHTjqe2EYRKFbQSK03WWdvj2fVawZ1NEZ/lcgFV1TCbPcF1HSx0Hbq+gGVamM/n0CYTjEcjGKsVKKXnzYwx6auqQlmWA2HgB5zI43CRJAk8z4Pv+wjDHYIghMfHm80G0X7/q6q2bVHX9UB495SLooBpmhAZUEJgWyZW6zXWPCaUC+v7/pziTUIh1w/8U2XwGQY8xS0cZyvLcIr/SWEYE/RCAV/fkCOEECZVHeOUe0KH+WtQplaFomaYmgfk3Ed5D9tr8C7gC7Sw3RZORJBVDGl5HYr+ViGMKR4ed8h4YJ9TGB8VtJeD9M8c+mvJD2mRc0Kx5hoU223Q8XTqjuHQMJQc4p/0Ay7nb0FeimjWPM9kUQnpEMcx0jRDkqayL7uO/K9tRKcbhoHTjavqGJqmYTRW5QuJvpIfL+Mm4T3tGyhB7zadsQYjAAAAAElFTkSuQmCC'); background-size: cover; display: block;"></span>
  <img class="gatsby-resp-image-image" alt="experiments.png" title="Where to find experiments" src="/fbraza-github-pages/static/fe9541f67d0524d5173e3790448c6962/cd2d9/2023-05-06-overview-vertexai-figure-02.png" srcset="/fbraza-github-pages/static/fe9541f67d0524d5173e3790448c6962/6f3f2/2023-05-06-overview-vertexai-figure-02.png 256w,
/fbraza-github-pages/static/fe9541f67d0524d5173e3790448c6962/cd2d9/2023-05-06-overview-vertexai-figure-02.png 318w" sizes="(max-width: 318px) 100vw, 318px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;" loading="lazy" decoding="async">
  </a>
    </span></p>
<p><em>Figure 2</em> : The MODEL DEVELOPMENT tab</p>
<p>Next, you just need to use the context manager <code>aiplatform.start_run()</code> to which you need to pass an identifier (<code>run</code>). Inside the context manager scope implement your logic for model training and metrics computations. If you need to log the model parameters use the <code>log_params()</code> function. The parameters need to be of type <code>dict</code>. Similarly you can use <code>log_metrics()</code> to log your model metrics. Here again provide the metrics as a dictionnary. Once your model is trained you can find the metrics on your vertex environment. First click on <code>Experiments</code> to list your own experiments (Figure 3).</p>
<p><span class="gatsby-resp-image-wrapper" style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; ">
      <a class="gatsby-resp-image-link" href="/fbraza-github-pages/static/1adf9d7d11ff3975fbd47a3d7c2ffb4a/52c1b/2023-05-06-overview-vertexai-figure-03.png" style="display: block" target="_blank" rel="noopener">
    <span class="gatsby-resp-image-background-image" style="padding-bottom: 42.578125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA6ElEQVR42qWS227DIBBE+f+fbCO1qhI34WIwd7Y7m5paeajUFGmEh10OaLByPlNtjUotVEqhGCM19mOMp6RueqUQAm1bkNl7/z/g9fpJWjta1x8ogM8OZR0AYy4AVmv9M6j1IVLa4mZJ8hMYzzlngcJDe23XsQahP5dKPkRSH4unm838KJV675S8o9PrC12WRTw2O+dEO8xaOz2UUpL1wmD1fkkUYudL30PtrUgzssTAGjwgUudD8G2MnQ/BW+dh6u0c+YZVcpwN36AjQGs9vTFGdOybwHWrnEH/9VeQjHJ68PecdyFnzF9w7sP1AfqEfgAAAABJRU5ErkJggg=='); background-size: cover; display: block;"></span>
  <img class="gatsby-resp-image-image" alt="list_experiments.png" title="Experiments list" src="/fbraza-github-pages/static/1adf9d7d11ff3975fbd47a3d7c2ffb4a/2bef9/2023-05-06-overview-vertexai-figure-03.png" srcset="/fbraza-github-pages/static/1adf9d7d11ff3975fbd47a3d7c2ffb4a/6f3f2/2023-05-06-overview-vertexai-figure-03.png 256w,
/fbraza-github-pages/static/1adf9d7d11ff3975fbd47a3d7c2ffb4a/01e7c/2023-05-06-overview-vertexai-figure-03.png 512w,
/fbraza-github-pages/static/1adf9d7d11ff3975fbd47a3d7c2ffb4a/2bef9/2023-05-06-overview-vertexai-figure-03.png 1024w,
/fbraza-github-pages/static/1adf9d7d11ff3975fbd47a3d7c2ffb4a/71c1d/2023-05-06-overview-vertexai-figure-03.png 1536w,
/fbraza-github-pages/static/1adf9d7d11ff3975fbd47a3d7c2ffb4a/a878e/2023-05-06-overview-vertexai-figure-03.png 2048w,
/fbraza-github-pages/static/1adf9d7d11ff3975fbd47a3d7c2ffb4a/52c1b/2023-05-06-overview-vertexai-figure-03.png 2163w" sizes="(max-width: 1024px) 100vw, 1024px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;" loading="lazy" decoding="async">
  </a>
    </span></p>
<p><em>Figure 3</em> : The Experiments tab</p>
<p>Finally, click on one of them to list your runs with all your logged metrics and parameters (Figure 4).</p>
<p><span class="gatsby-resp-image-wrapper" style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; ">
      <a class="gatsby-resp-image-link" href="/fbraza-github-pages/static/98c8c26a5634dcf698945cb21b26689d/d0002/2023-05-06-overview-vertexai-figure-04.png" style="display: block" target="_blank" rel="noopener">
    <span class="gatsby-resp-image-background-image" style="padding-bottom: 58.59375%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAAA+ElEQVR42pVTixKDIAzj/391D2Aqb+gadjCc4t08c9XShsSKUHolJSUZGynEQlQK3/8j50LGJRIh5prA1eLsmq2PeaG1Imstw1EIocN7f4A7yfU15yqEki+6KyY0piZAjvgtPpLPNowxknhpw4QogMLYyXLOO6SUOmZ5QEhW99Sw6SshFEHB2PzbdAbUVYVy8fRQkGwrWVOYUjw0oeEq97G8OLpL3y2379GUjXG0efZcCZc1sOUPIRJtyleWd7m8Vyv06ukmMXJDgS1jymcKZxuAZITQsKy+lmcKrya9sxz5pDjfCsajxO8lT45Zri62basw/A8jwt0bOgywb6nfWk0AAAAASUVORK5CYII='); background-size: cover; display: block;"></span>
  <img class="gatsby-resp-image-image" alt="log_metrics.png" title="Run metrics" src="/fbraza-github-pages/static/98c8c26a5634dcf698945cb21b26689d/2bef9/2023-05-06-overview-vertexai-figure-04.png" srcset="/fbraza-github-pages/static/98c8c26a5634dcf698945cb21b26689d/6f3f2/2023-05-06-overview-vertexai-figure-04.png 256w,
/fbraza-github-pages/static/98c8c26a5634dcf698945cb21b26689d/01e7c/2023-05-06-overview-vertexai-figure-04.png 512w,
/fbraza-github-pages/static/98c8c26a5634dcf698945cb21b26689d/2bef9/2023-05-06-overview-vertexai-figure-04.png 1024w,
/fbraza-github-pages/static/98c8c26a5634dcf698945cb21b26689d/71c1d/2023-05-06-overview-vertexai-figure-04.png 1536w,
/fbraza-github-pages/static/98c8c26a5634dcf698945cb21b26689d/a878e/2023-05-06-overview-vertexai-figure-04.png 2048w,
/fbraza-github-pages/static/98c8c26a5634dcf698945cb21b26689d/d0002/2023-05-06-overview-vertexai-figure-04.png 2147w" sizes="(max-width: 1024px) 100vw, 1024px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;" loading="lazy" decoding="async">
  </a>
    </span></p>
<p><em>Figure 4</em> : An example run with logged metrics</p>
<h2 id="conclusion" style="position:relative;"><a href="#conclusion" aria-label="conclusion permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Conclusion</h2>
<p>It has been a long time since I wanted to summarize the main aspects of Vertex.ai. I use vertex to train, track models and generate formatted reports that include metrics and other in-house scores. It is very pleasant to use. As a solution for MLOps it does the job but remains limited when compared to other solution like <a href="https://mlflow.org/">MLFlow</a> or <a href="https://wandb.ai/site">Weights &#x26; Biases</a>. Coding using the Kubeflow python sdk can be overwhelming at first especially if you do not take the time to refactor your components. Make them short, it will help for sure.</p>
<h2 id="supplemental-data" style="position:relative;"><a href="#supplemental-data" aria-label="supplemental data permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Supplemental data</h2>
<div class="gatsby-highlight" data-language="yaml"><pre class="language-yaml"><code class="language-yaml"><span class="token comment"># PIPELINE DEFINITION</span>
<span class="token comment"># Name: name_of_pipeline</span>
<span class="token comment"># Inputs:</span>
<span class="token comment">#    my_input: str</span>
<span class="token comment"># Outputs:</span>
<span class="token comment">#    my_output: system.Dataset</span>
<span class="token key atrule">components</span><span class="token punctuation">:</span>
  <span class="token key atrule">comp-name_of_pipeline</span><span class="token punctuation">:</span>
    <span class="token key atrule">executorLabel</span><span class="token punctuation">:</span> name_of_pipeline
    <span class="token key atrule">inputDefinitions</span><span class="token punctuation">:</span>
      <span class="token key atrule">parameters</span><span class="token punctuation">:</span>
        <span class="token key atrule">my_input</span><span class="token punctuation">:</span>
          <span class="token key atrule">parameterType</span><span class="token punctuation">:</span> STRING
    <span class="token key atrule">outputDefinitions</span><span class="token punctuation">:</span>
      <span class="token key atrule">artifacts</span><span class="token punctuation">:</span>
        <span class="token key atrule">my_outputs</span><span class="token punctuation">:</span>
          <span class="token key atrule">artifactType</span><span class="token punctuation">:</span>
            <span class="token key atrule">schemaTitle</span><span class="token punctuation">:</span> system.Dataset
            <span class="token key atrule">schemaVersion</span><span class="token punctuation">:</span> 0.0.1
<span class="token key atrule">deploymentSpec</span><span class="token punctuation">:</span>
  <span class="token key atrule">executors</span><span class="token punctuation">:</span>
    <span class="token key atrule">exec-name_of_pipeline</span><span class="token punctuation">:</span>
      <span class="token key atrule">container</span><span class="token punctuation">:</span>
        <span class="token key atrule">args</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> <span class="token punctuation">-</span><span class="token punctuation">-</span>executor_input
        <span class="token punctuation">-</span> <span class="token string">'{{$}}'</span>
        <span class="token punctuation">-</span> <span class="token punctuation">-</span><span class="token punctuation">-</span>function_to_execute
        <span class="token punctuation">-</span> name_of_pipeline
        <span class="token key atrule">command</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> sh
        <span class="token punctuation">-</span> <span class="token punctuation">-</span>c
        <span class="token punctuation">-</span> "\nif <span class="token tag">!</span> <span class="token punctuation">[</span> <span class="token punctuation">-</span>x \"$(command <span class="token punctuation">-</span>v pip)\" <span class="token punctuation">]</span>; then\n    python3 <span class="token punctuation">-</span>m ensurepip <span class="token punctuation">|</span><span class="token punctuation">|</span>\
          \ python3 <span class="token punctuation">-</span>m ensurepip <span class="token punctuation">-</span><span class="token punctuation">-</span>user <span class="token punctuation">|</span><span class="token punctuation">|</span> apt<span class="token punctuation">-</span>get install python3<span class="token punctuation">-</span>pip\nfi\n\nPIP_DISABLE_PIP_VERSION_CHECK=1\
          \ python3 <span class="token punctuation">-</span>m pip install <span class="token punctuation">-</span><span class="token punctuation">-</span>quiet     <span class="token punctuation">-</span><span class="token punctuation">-</span>no<span class="token punctuation">-</span>warn<span class="token punctuation">-</span>script<span class="token punctuation">-</span>location 'pandas'\
          \ 'kfp==2.0.1' <span class="token important">&amp;&amp;</span> \"$0\" \"$@\"\n"
        <span class="token punctuation">-</span> sh
        <span class="token punctuation">-</span> <span class="token punctuation">-</span>ec
        <span class="token punctuation">-</span> 'program_path=$(mktemp <span class="token punctuation">-</span>d)

          printf "%s" "$0" <span class="token punctuation">></span> "$program_path/ephemeral_component.py"

          python3 <span class="token punctuation">-</span>m kfp.components.executor_main <span class="token punctuation">-</span><span class="token punctuation">-</span>component_module_path "$program_path/ephemeral_component.py" "$@"
          '
        <span class="token punctuation">-</span> <span class="token string">"components code is here"</span>
        <span class="token key atrule">image</span><span class="token punctuation">:</span> eu.gcr.io/sensav2/suntraining/sunpy
<span class="token key atrule">pipelineInfo</span><span class="token punctuation">:</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> name_of_pipeline
<span class="token key atrule">root</span><span class="token punctuation">:</span>
  <span class="token key atrule">dag</span><span class="token punctuation">:</span>
    <span class="token key atrule">outputs</span><span class="token punctuation">:</span>
      <span class="token key atrule">artifacts</span><span class="token punctuation">:</span>
        <span class="token key atrule">my_outputs</span><span class="token punctuation">:</span>
          <span class="token key atrule">artifactSelectors</span><span class="token punctuation">:</span>
          <span class="token punctuation">-</span> <span class="token key atrule">outputArtifactKey</span><span class="token punctuation">:</span> name_of_pipeline
            <span class="token key atrule">producerSubtask</span><span class="token punctuation">:</span> name_of_pipeline
    <span class="token key atrule">tasks</span><span class="token punctuation">:</span>
      <span class="token key atrule">name_of_pipeline</span><span class="token punctuation">:</span>
        <span class="token key atrule">cachingOptions</span><span class="token punctuation">:</span>
          <span class="token key atrule">enableCache</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
        <span class="token key atrule">componentRef</span><span class="token punctuation">:</span>
          <span class="token key atrule">name</span><span class="token punctuation">:</span> comp<span class="token punctuation">-</span>name_of_pipeline
        <span class="token key atrule">inputs</span><span class="token punctuation">:</span>
          <span class="token key atrule">parameters</span><span class="token punctuation">:</span>
            <span class="token key atrule">my_input</span><span class="token punctuation">:</span>
              <span class="token key atrule">componentInputParameter</span><span class="token punctuation">:</span> my_input
        <span class="token key atrule">taskInfo</span><span class="token punctuation">:</span>
          <span class="token key atrule">name</span><span class="token punctuation">:</span> name_of_pipeline
  <span class="token key atrule">inputDefinitions</span><span class="token punctuation">:</span>
    <span class="token key atrule">parameters</span><span class="token punctuation">:</span>
      <span class="token key atrule">my_input</span><span class="token punctuation">:</span>
        <span class="token key atrule">parameterType</span><span class="token punctuation">:</span> STRING
  <span class="token key atrule">outputDefinitions</span><span class="token punctuation">:</span>
    <span class="token key atrule">artifacts</span><span class="token punctuation">:</span>
      <span class="token key atrule">my_outputs</span><span class="token punctuation">:</span>
        <span class="token key atrule">artifactType</span><span class="token punctuation">:</span>
          <span class="token key atrule">schemaTitle</span><span class="token punctuation">:</span> system.Dataset
          <span class="token key atrule">schemaVersion</span><span class="token punctuation">:</span> 0.0.1
<span class="token key atrule">schemaVersion</span><span class="token punctuation">:</span> 2.1.0
<span class="token key atrule">sdkVersion</span><span class="token punctuation">:</span> kfp<span class="token punctuation">-</span>2.0.1</code></pre></div></div></div></section></main><section><footer aria-label="Site Footer"><div class="mx-auto max-w-5xl px-4 pt-24 pb-16"><nav class="mt-10"><div class="flex flex-wrap justify-center gap-12"><a class="hover:underline hover:text-blue-600 dark:text-slate-400 dark:hover:text-blue-500" href="/fbraza-github-pages/articles/">Blog</a><a class="hover:underline hover:text-blue-600 dark:text-slate-400 dark:hover:text-blue-500" href="/fbraza-github-pages/about/">About</a><a class="hover:underline hover:text-blue-600 dark:text-slate-400 dark:hover:text-blue-500" href="/fbraza-github-pages/contact/">Contact</a><a href="https://github.com/fbraza" target="_blank" rel="noopener noreferrer" class="inline-flex items-center hover:underline hover:text-blue-600 dark:text-slate-400 dark:hover:border-b-blue-500 dark:hover:text-blue-500">Github<svg class="w-5 h-5 ml-1" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11 3a1 1 0 100 2h2.586l-6.293 6.293a1 1 0 101.414 1.414L15 6.414V9a1 1 0 102 0V4a1 1 0 00-1-1h-5z"></path><path d="M5 5a2 2 0 00-2 2v8a2 2 0 002 2h8a2 2 0 002-2v-3a1 1 0 10-2 0v3H5V7h3a1 1 0 000-2H5z"></path></svg></a></div></nav><div class="mt-8 flex flex-wrap justify-center text-sm text-slate-600 dark:text-slate-500">© <!-- -->2023<!-- --> Faouzi Braza. All rights reserved.</div></div></footer></section></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/overview-of-vertexai/";/*]]>*/</script><!-- slice-start id="_gatsby-scripts-1" -->
          <script
            id="gatsby-chunk-mapping"
          >
            window.___chunkMapping="{\"app\":[\"/app-00ba34305b87c6eeb9ba.js\"],\"component---src-pages-404-js\":[\"/component---src-pages-404-js-194c47b2126893f9b160.js\"],\"component---src-pages-articles-js\":[\"/component---src-pages-articles-js-746ef5abcb326a2c142f.js\"],\"component---src-pages-index-js\":[\"/component---src-pages-index-js-8e4bd4bbb9eb34460a8b.js\"],\"component---src-pages-markdown-remark-fields-slug-js\":[\"/component---src-pages-markdown-remark-fields-slug-js-0a1905dc834aed99f95c.js\"],\"component---src-templates-tag-js\":[\"/component---src-templates-tag-js-96fef45ea455e4e72241.js\"]}";
          </script>
        <script>window.___webpackCompilationHash="f1526f03aa07583cacc1";</script><script src="/fbraza-github-pages/webpack-runtime-40fb5e08b0626477046b.js" async></script><script src="/fbraza-github-pages/framework-3b7d96eee18f82bd0137.js" async></script><script src="/fbraza-github-pages/app-00ba34305b87c6eeb9ba.js" async></script><!-- slice-end id="_gatsby-scripts-1" --></body></html>